{% extends 'base.html' %}
{% load static %}

{% block title %}{{ titulo }} - Museo Bernasconi{% endblock %}

{% block page_bg %}
<div class="page-bg bg-ubicaciones"></div>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 700px;">
  <div class="card-header">
    <h2 class="card-title">{{ titulo }}</h2>
  </div>

  <form method="post" novalidate>
    {% csrf_token %}

    <div class="detail-grid">
      <div class="form-group">
        <label for="id_nombre_contenedor" class="form-label">Nombre *</label>
        {{ form.nombre_contenedor }}
        {% if form.nombre_contenedor.errors %}
          <p style="color: var(--color-error); font-size: 0.85rem;">{{ form.nombre_contenedor.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="id_fk_lugar_general" class="form-label">Lugar *</label>
        {{ form.fk_lugar_general }}
        {% if form.fk_lugar_general.errors %}
          <p style="color: var(--color-error); font-size: 0.85rem;">{{ form.fk_lugar_general.errors.0 }}</p>
        {% endif %}
      </div>

      <div class="form-group">
        <label for="id_tipo_contenedor" class="form-label">Tipo *</label>
        {{ form.tipo_contenedor }}
      </div>

      <div class="form-group">
        <label for="id_fk_padre" class="form-label">Contenedor Padre</label>
        {{ form.fk_padre }}
        <small class="text-muted">Opcional: si está dentro de otro contenedor</small>
      </div>

      <div class="form-group">
        <label for="id_modo_almacenamiento" class="form-label">Modo</label>
        {{ form.modo_almacenamiento }}
      </div>

      <div class="form-group">
        <label for="id_estado" class="form-label">Estado</label>
        {{ form.estado }}
      </div>

      <div class="form-group">
        <label for="id_capacidad_maxima" class="form-label">Capacidad Máxima</label>
        {{ form.capacidad_maxima }}
        <small class="text-muted">Cantidad de obras. Dejar vacío si no aplica.</small>
      </div>
    </div>

    <div class="form-group">
      <label for="id_observacion" class="form-label">Observaciones</label>
      {{ form.observacion }}
    </div>

    <div class="flex gap-2 mt-3">
      <button type="submit" class="btn btn-primary">
        {% if is_edit %}Guardar Cambios{% else %}Crear Contenedor{% endif %}
      </button>
      <a href="{% url 'contenedor:contenedor_list' %}" class="btn btn-secondary">Cancelar</a>
    </div>
  </form>
</div>
{% endblock %}
