{% extends 'base.html' %}
{% load static %}

{% block title %}Eliminar {{ autor.nombre }} - Museo Bernasconi{% endblock %}

{% block page_bg %}
<div class="page-bg bg-fichas"></div>
{% endblock %}

{% block content %}
<div class="card" style="max-width: 500px;">
  <div class="card-header">
    <h2 class="card-title">Eliminar Autor</h2>
  </div>

  {% if num_fichas > 0 %}
    <div class="alert alert-warning">
      <strong>No se puede eliminar</strong><br>
      El autor "{{ autor.nombre }}" tiene {{ num_fichas }} ficha{{ num_fichas|pluralize:"s" }} asociada{{ num_fichas|pluralize:"s" }}.
      Primero debe desvincular las fichas.
    </div>
    <a href="{% url 'autor:autor_list' %}" class="btn btn-secondary">Volver</a>
  {% else %}
    <p class="mb-2">
      ¿Está seguro que desea eliminar el autor <strong>"{{ autor.nombre }}"</strong>?
    </p>
    <p class="text-muted mb-3">Esta acción no se puede deshacer.</p>

    <form method="post">
      {% csrf_token %}
      <div class="flex gap-2">
        <button type="submit" class="btn btn-danger">Sí, eliminar</button>
        <a href="{% url 'autor:autor_list' %}" class="btn btn-secondary">Cancelar</a>
      </div>
    </form>
  {% endif %}
</div>
{% endblock %}
